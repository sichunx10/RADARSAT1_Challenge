{"ast":null,"code":"var _jsxFileName = \"/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js\";\nimport React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col } from 'react-bootstrap';\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value; // Update State and Call Back State\n\n      this.setState({\n        [name]: value\n      }, () => console.log(this.state));\n    };\n\n    this.handleSubmit = async e => {\n      this.setState({\n        imageURL: [],\n        imageDownload: [],\n        summary: [],\n        index: null\n      });\n      e.preventDefault();\n      const res = await axios.get(\"https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((\".concat(this.state.longitude, \",\").concat(this.state.latitude, \"))\"), {\n        auth: {\n          username: 'codyzhang',\n          password: 'Juanjuan780'\n        }\n      }).catch(err => console.log(err));\n      const data = res.data.entry;\n      const long = data.length;\n\n      for (let i = 0; i < long; i++) {\n        this.setState(() => {\n          this.state.summary.push(data[i].summary);\n          this.state.imageURL.push(data[i].link[1].href);\n          this.state.imageDownload.push(data[i].link[2].href);\n        });\n      }\n\n      console.log(this.state.summary);\n      this.setState({\n        index: 0\n      });\n    };\n\n    this.clickLeft = e => {\n      if (this.state.index === 0) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index - 1\n        });\n      }\n    };\n\n    this.clickRight = e => {\n      if (this.state.index === 9) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index + 1\n        });\n      }\n    };\n\n    console.log(this.props);\n    this.state = {\n      latitude: this.props.latitude,\n      longitude: this.props.longitude,\n      imageURL: [],\n      imageDownload: [],\n      summary: [],\n      index: null\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"latitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"latitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"latitude\"), React.createElement(\"input\", {\n      placeholder: this.state.latitude,\n      type: \"float\",\n      name: \"latitude\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"longitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"longitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"longitude\"), React.createElement(\"input\", {\n      placeholder: this.state.longitude,\n      type: \"float\",\n      name: \"longitude\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Submit\"))), React.createElement(Card, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: left,\n      onClick: this.clickLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      className: \"imageSize\",\n      variant: \"top\",\n      src: this.state.imageURL[this.state.index],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(Card.Body, {\n      className: \"summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Picture Summary\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.summary[this.state.index]), React.createElement(Button, {\n      variant: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: this.state.imageDownload[this.state.index],\n      download: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Download HD Image\")))), React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: right,\n      onClick: this.clickRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js"],"names":["React","Component","Button","Image","Card","Row","Col","axios","right","left","Main","constructor","props","handleChange","e","preventDefault","target","name","value","setState","console","log","state","handleSubmit","imageURL","imageDownload","summary","index","res","get","longitude","latitude","auth","username","password","catch","err","data","entry","long","length","i","push","link","href","clickLeft","clickRight","render","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col } from 'react-bootstrap';\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n    constructor(props){\n        super(props)\n        console.log(this.props)\n        this.state = {\n            latitude:this.props.latitude,\n            longitude:this.props.longitude,\n            imageURL:[],\n            imageDownload:[],\n            summary:[],\n            index:null\n        }\n    }\n    \n\n    handleChange = e => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        // Update State and Call Back State\n        this.setState({ [name]: value }, () => console.log(this.state));\n    };\n\n    handleSubmit = async (e) => {\n        this.setState({imageURL:[],imageDownload:[],summary:[],index:null})\n        e.preventDefault();\n\n        const res = await axios.get(`https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((${this.state.longitude},${this.state.latitude}))`, {\n                auth: {\n                username: 'codyzhang',\n                password: 'Juanjuan780' \n                }\n            }).catch(err => console.log(err));\n        const data = res.data.entry;\n        const long = data.length;\n\n        for (let i = 0; i < long; i++){\n            this.setState(() => {\n                this.state.summary.push(data[i].summary);\n                this.state.imageURL.push(data[i].link[1].href);\n                this.state.imageDownload.push(data[i].link[2].href);\n                \n            })\n        }\n        console.log(this.state.summary)\n        this.setState({index:0});\n    }\n\n    clickLeft = e => {\n        if (this.state.index === 0){\n            return\n        } else {\n            this.setState({index: this.state.index - 1})\n        }\n    }\n\n    clickRight = e => {\n        if (this.state.index === 9){\n            return\n        } else {\n            this.setState({index: this.state.index + 1})\n        }\n    }\n\n    render(){\n        return (\n            <>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"latitude\">\n                        <label htmlFor=\"latitude\">latitude</label>\n                        <input\n                            placeholder={this.state.latitude}\n                            type=\"float\"\n                            name=\"latitude\"\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                    <div className=\"longitude\">\n                        <label htmlFor=\"longitude\">longitude</label>\n                        <input\n                            placeholder={this.state.longitude}\n                            type=\"float\"\n                            name=\"longitude\"\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                    <div>\n                        <button type=\"submit\">Submit</button>\n                    </div>\n                </form>\n                <Card style={{ width: '100%' }}>\n                    <Row>\n                        <Col lg={2}>\n                            <Image src={left} onClick={this.clickLeft} />\n                        </Col>\n                        <Col lg={8} >\n                            <Card.Img \n                                className=\"imageSize\"\n                                variant=\"top\" \n                                src={this.state.imageURL[this.state.index]} \n                            />\n                            <Card.Body className=\"summary\">\n                                <Card.Title>Picture Summary</Card.Title>\n                                <Card.Text>\n                                {this.state.summary[this.state.index]}\n                                </Card.Text>\n                                <Button variant=\"warning\" >\n                                    <a href={this.state.imageDownload[this.state.index]} download>\n                                       Download HD Image\n                                    </a>\n                                </Button>\n                            </Card.Body>\n                        </Col>\n                        <Col lg={2} >\n                            <Image  src={right} onClick={this.clickRight} />\n                        </Col>\n                    </Row>\n                        \n                    \n                </Card>\n            </>\n        )\n    }\n    \n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}