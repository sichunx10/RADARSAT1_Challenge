{"ast":null,"code":"var _jsxFileName = \"/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js\";\nimport React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col } from 'react-bootstrap';\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      latitude: '',\n      longitude: '',\n      imageURL: [],\n      imageDownload: [],\n      summary: [],\n      index: null\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value; // Update State and Call Back State\n\n      this.setState({\n        [name]: value\n      }, () => console.log(this.state));\n    };\n\n    this.handleSubmit = async e => {\n      this.setState({\n        imageURL: [],\n        imageDownload: [],\n        summary: [],\n        index: null\n      });\n      e.preventDefault();\n      const res = await axios.get(\"https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((\".concat(this.state.longitude, \",\").concat(this.state.latitude, \"))\"), {\n        auth: {\n          username: 'codyzhang',\n          password: 'Juanjuan780'\n        }\n      }).catch(err => console.log(err));\n      const data = res.data.entry;\n      const long = data.length;\n\n      for (let i = 0; i < long; i++) {\n        this.setState(() => {\n          this.state.summary.push(data[i].summary);\n          this.state.imageURL.push(data[i].link[1].href);\n          this.state.imageDownload.push(data[i].link[2].href);\n        });\n      }\n\n      console.log(this.state.summary);\n      this.setState({\n        index: 0\n      });\n    };\n\n    this.clickLeft = e => {\n      if (this.state.index === 0) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index - 1\n        });\n      }\n    };\n\n    this.clickRight = e => {\n      if (this.state.index === 9) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index + 1\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"latitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"latitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"latitude\"), React.createElement(\"input\", {\n      placeholder: \"latitude\",\n      type: \"float\",\n      name: \"latitude\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"longitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"longitude\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"longitude\"), React.createElement(\"input\", {\n      placeholder: \"longitude\",\n      type: \"float\",\n      name: \"longitude\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Submit\"))), React.createElement(Card, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: left,\n      onClick: this.clickLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      className: \"imageSize\",\n      variant: \"top\",\n      src: this.state.imageURL[this.state.index],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(Card.Body, {\n      className: \"summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Picture Summary\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.summary[this.state.index]), React.createElement(Button, {\n      variant: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: this.state.imageDownload[this.state.index],\n      download: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Download HD Image\")))), React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: right,\n      onClick: this.clickRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js"],"names":["React","Component","Button","Image","Card","Row","Col","axios","right","left","Main","state","latitude","longitude","imageURL","imageDownload","summary","index","handleChange","e","preventDefault","target","name","value","setState","console","log","handleSubmit","res","get","auth","username","password","catch","err","data","entry","long","length","i","push","link","href","clickLeft","clickRight","render","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col } from 'react-bootstrap';\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n    state = {\n        latitude:'',\n        longitude:'',\n        imageURL:[],\n        imageDownload:[],\n        summary:[],\n        index:null\n    }\n\n    handleChange = e => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        // Update State and Call Back State\n        this.setState({ [name]: value }, () => console.log(this.state));\n    };\n\n    handleSubmit = async (e) => {\n        this.setState({imageURL:[],imageDownload:[],summary:[],index:null})\n        e.preventDefault();\n\n        const res = await axios.get(`https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((${this.state.longitude},${this.state.latitude}))`, {\n                auth: {\n                username: 'codyzhang',\n                password: 'Juanjuan780' \n                }\n            }).catch(err => console.log(err));\n        const data = res.data.entry;\n        const long = data.length;\n\n        for (let i = 0; i < long; i++){\n            this.setState(() => {\n                this.state.summary.push(data[i].summary);\n                this.state.imageURL.push(data[i].link[1].href);\n                this.state.imageDownload.push(data[i].link[2].href);\n                \n            })\n        }\n        console.log(this.state.summary)\n        this.setState({index:0});\n    }\n\n    clickLeft = e => {\n        if (this.state.index === 0){\n            return\n        } else {\n            this.setState({index: this.state.index - 1})\n        }\n    }\n\n    clickRight = e => {\n        if (this.state.index === 9){\n            return\n        } else {\n            this.setState({index: this.state.index + 1})\n        }\n    }\n\n    render(){\n        return (\n            <>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"latitude\">\n                        <label htmlFor=\"latitude\">latitude</label>\n                        <input\n                            placeholder=\"latitude\"\n                            type=\"float\"\n                            name=\"latitude\"\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                    <div className=\"longitude\">\n                        <label htmlFor=\"longitude\">longitude</label>\n                        <input\n                            placeholder=\"longitude\"\n                            type=\"float\"\n                            name=\"longitude\"\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                    <div>\n                        <button type=\"submit\">Submit</button>\n                    </div>\n                </form>\n                <Card style={{ width: '100%' }}>\n                    <Row>\n                        <Col lg={2}>\n                            <Image src={left} onClick={this.clickLeft} />\n                        </Col>\n                        <Col lg={8} >\n                            <Card.Img \n                                className=\"imageSize\"\n                                variant=\"top\" \n                                src={this.state.imageURL[this.state.index]} \n                            />\n                            <Card.Body className=\"summary\">\n                                <Card.Title>Picture Summary</Card.Title>\n                                <Card.Text>\n                                {this.state.summary[this.state.index]}\n                                </Card.Text>\n                                <Button variant=\"warning\" >\n                                    <a href={this.state.imageDownload[this.state.index]} download>\n                                       Download HD Image\n                                    </a>\n                                </Button>\n                            </Card.Body>\n                        </Col>\n                        <Col lg={2} >\n                            <Image  src={right} onClick={this.clickRight} />\n                        </Col>\n                    </Row>\n                        \n                    \n                </Card>\n            </>\n        )\n    }\n    \n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}