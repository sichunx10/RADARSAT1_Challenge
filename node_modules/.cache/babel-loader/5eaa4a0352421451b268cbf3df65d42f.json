{"ast":null,"code":"var _jsxFileName = \"/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js\";\nimport React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col } from 'react-bootstrap';\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showPicture = async e => {\n      this.setState({\n        imageURL: [],\n        imageDownload: [],\n        summary: [],\n        index: null\n      });\n      e.preventDefault();\n      const res = await axios.get(\"https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((\".concat(this.state.longitude, \",\").concat(this.state.latitude, \"))\"), {\n        auth: {\n          username: 'codyzhang',\n          password: 'Juanjuan780'\n        }\n      }).catch(err => console.log(err));\n      const data = res.data.entry;\n      const long = data.length;\n\n      for (let i = 0; i < long; i++) {\n        this.setState(() => {\n          this.state.summary.push(data[i].summary);\n          this.state.imageURL.push(data[i].link[1].href);\n          this.state.imageDownload.push(data[i].link[2].href);\n        });\n      }\n\n      console.log(this.state.summary);\n      this.setState({\n        index: 0\n      });\n    };\n\n    this.clickLeft = e => {\n      if (this.state.index === 0) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index - 1\n        });\n      }\n    };\n\n    this.clickRight = e => {\n      if (this.state.index === 9) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index + 1\n        });\n      }\n    };\n\n    this.state = {\n      latitude: this.props.location.pathname.slice(8, -1).split(',')[0],\n      longitude: this.props.location.pathname.slice(8, -1).split(',')[1],\n      imageURL: [],\n      imageDownload: [],\n      summary: [],\n      index: null\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Button, {\n      onClick: this.showPicture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Show Pictures!\"), React.createElement(Card, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: left,\n      onClick: this.clickLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      className: \"imageSize\",\n      variant: \"top\",\n      src: this.state.imageURL[this.state.index],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Card.Body, {\n      className: \"summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Picture Summary\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.state.summary[this.state.index]), React.createElement(Button, {\n      variant: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: this.state.imageDownload[this.state.index],\n      download: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Download HD Image\")))), React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: right,\n      onClick: this.clickRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js"],"names":["React","Component","Button","Image","Card","Row","Col","axios","right","left","Main","constructor","props","showPicture","e","setState","imageURL","imageDownload","summary","index","preventDefault","res","get","state","longitude","latitude","auth","username","password","catch","err","console","log","data","entry","long","length","i","push","link","href","clickLeft","clickRight","location","pathname","slice","split","render","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col } from 'react-bootstrap';\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            latitude:this.props.location.pathname.slice(8,-1).split(',')[0],\n            longitude:this.props.location.pathname.slice(8,-1).split(',')[1],\n            imageURL:[],\n            imageDownload:[],\n            summary:[],\n            index:null\n        }\n    }\n\n    showPicture = async (e) => {\n        this.setState({imageURL:[],imageDownload:[],summary:[],index:null})\n        e.preventDefault();\n\n        const res = await axios.get(`https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((${this.state.longitude},${this.state.latitude}))`, {\n                auth: {\n                username: 'codyzhang',\n                password: 'Juanjuan780' \n                }\n            }).catch(err => console.log(err));\n        const data = res.data.entry;\n        const long = data.length;\n\n        for (let i = 0; i < long; i++){\n            this.setState(() => {\n                this.state.summary.push(data[i].summary);\n                this.state.imageURL.push(data[i].link[1].href);\n                this.state.imageDownload.push(data[i].link[2].href);\n                \n            })\n        }\n        console.log(this.state.summary)\n        this.setState({index:0});\n    }\n\n    clickLeft = e => {\n        if (this.state.index === 0){\n            return\n        } else {\n            this.setState({index: this.state.index - 1})\n        }\n    }\n\n    clickRight = e => {\n        if (this.state.index === 9){\n            return\n        } else {\n            this.setState({index: this.state.index + 1})\n        }\n    }\n\n    render(){\n        return (\n            <>\n            <Button onClick={this.showPicture}>Show Pictures!</Button>\n                <Card style={{ width: '100%' }}>\n                    <Row>\n                        <Col lg={2}>\n                            <Image src={left} onClick={this.clickLeft} />\n                        </Col>\n                        <Col lg={8} >\n                            <Card.Img \n                                className=\"imageSize\"\n                                variant=\"top\" \n                                src={this.state.imageURL[this.state.index]} \n                            />\n                            <Card.Body className=\"summary\">\n                                <Card.Title>Picture Summary</Card.Title>\n                                <Card.Text>\n                                {this.state.summary[this.state.index]}\n                                </Card.Text>\n                                <Button variant=\"warning\" >\n                                    <a href={this.state.imageDownload[this.state.index]} download>\n                                       Download HD Image\n                                    </a>\n                                </Button>\n                            </Card.Body>\n                        </Col>\n                        <Col lg={2} >\n                            <Image  src={right} onClick={this.clickRight} />\n                        </Col>\n                    </Row>\n                        \n                    \n                </Card>\n            </>\n        )\n    }\n    \n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}