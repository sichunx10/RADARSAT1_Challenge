{"ast":null,"code":"var _jsxFileName = \"/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js\";\nimport React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col, Navbar } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showPicture = async e => {\n      this.setState({\n        imageURL: [],\n        imageDownload: [],\n        summary: [],\n        index: null\n      });\n      e.preventDefault();\n      const res = await axios.get(\"https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((\".concat(this.state.longitude, \",\").concat(this.state.latitude, \"))&start=0&rows=100\"), {\n        auth: {\n          username: 'codyzhang',\n          password: 'Juanjuan780'\n        }\n      }).catch(err => console.log(err));\n      const data = res.data.entry;\n      const long = data.length;\n\n      for (let i = 0; i < long; i++) {\n        this.setState(() => {\n          this.state.summary.push(data[i].summary);\n          this.state.productorientation.push(data[i].productorientation);\n          this.state.title.push(data[i].title);\n          this.state.imageURL.push(data[i].link[1].href);\n          this.state.imageDownload.push(data[i].link[2].href);\n        });\n      }\n\n      console.log(this.state.summary);\n      this.setState({\n        index: 0\n      });\n    };\n\n    this.clickLeft = e => {\n      if (this.state.index === 0) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index - 1\n        });\n      }\n    };\n\n    this.clickRight = e => {\n      if (this.state.index === 9) {\n        return;\n      } else {\n        this.setState({\n          index: this.state.index + 1\n        });\n      }\n    };\n\n    console.log(this.props.location.pathname.slice(8, -1).split(',')[0]);\n    console.log(this.props.location.pathname.slice(8, -1).split(',')[1]);\n    this.state = {\n      latitude: this.props.location.pathname.slice(8, -1).split(',')[0],\n      longitude: this.props.location.pathname.slice(8, -1).split(',')[1],\n      imageURL: [],\n      imageDownload: [],\n      summary: [],\n      productorientation: [],\n      title: [],\n      index: null\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n      bg: \"dark\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      href: \"#home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      src: \"/logo.svg\",\n      width: \"30\",\n      height: \"30\",\n      className: \"d-inline-block align-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), \"RADARSAT Challenge\")), React.createElement(Button, {\n      onClick: this.showPicture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Show Pictures!\"), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Go back\"), React.createElement(Card, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: left,\n      onClick: this.clickLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      className: \"imageSize\",\n      variant: \"top\",\n      src: this.state.imageURL[this.state.index],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Card.Body, {\n      className: \"summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Picture Summary\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Title: \", this.state.title[this.state.index]), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.state.summary[this.state.index]), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Beam Mode: \", this.state.productorientation[this.state.index] ? this.state.productorientation[this.state.index] : \"N/A\"), React.createElement(Button, {\n      variant: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: this.state.imageDownload[this.state.index],\n      download: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Download HD Image\")))), React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: right,\n      onClick: this.clickRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/qisong/Documents/RADARSAT1_Challenge/src/components/MainPage/index.js"],"names":["React","Component","Button","Image","Card","Row","Col","Navbar","Link","axios","right","left","Main","constructor","props","showPicture","e","setState","imageURL","imageDownload","summary","index","preventDefault","res","get","state","longitude","latitude","auth","username","password","catch","err","console","log","data","entry","long","length","i","push","productorientation","title","link","href","clickLeft","clickRight","location","pathname","slice","split","render","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Image, Card, Row, Col, Navbar } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\nimport './index.css';\nimport axios from 'axios';\nimport right from '../../asset/right.png';\nimport left from '../../asset/left.png';\n\nclass Main extends Component {\n    constructor(props){\n        super(props)\n        console.log(this.props.location.pathname.slice(8,-1).split(',')[0])\n        console.log(this.props.location.pathname.slice(8,-1).split(',')[1])\n        this.state = {\n            latitude:this.props.location.pathname.slice(8,-1).split(',')[0],\n            longitude:this.props.location.pathname.slice(8,-1).split(',')[1],\n            imageURL:[],\n            imageDownload:[],\n            summary:[],\n            productorientation:[],\n            title:[],\n            index:null\n        }\n    }\n\n    showPicture = async (e) => {\n        this.setState({imageURL:[],imageDownload:[],summary:[],index:null})\n        e.preventDefault();\n\n        const res = await axios.get(`https://data.eodms-sgdot.nrcan-rncan.gc.ca/api/dhus/v1/products/Radarsat1/search?q=footprint:Intersects((${this.state.longitude},${this.state.latitude}))&start=0&rows=100`, {\n                auth: {\n                username: 'codyzhang',\n                password: 'Juanjuan780' \n                }\n            }).catch(err => console.log(err));\n        const data = res.data.entry;\n        const long = data.length;\n\n        for (let i = 0; i < long; i++){\n            this.setState(() => {\n                this.state.summary.push(data[i].summary);\n                this.state.productorientation.push(data[i].productorientation)\n                this.state.title.push(data[i].title)\n                this.state.imageURL.push(data[i].link[1].href);\n                this.state.imageDownload.push(data[i].link[2].href);\n                \n            })\n        }\n        console.log(this.state.summary)\n        this.setState({index:0});\n    }\n\n    clickLeft = e => {\n        if (this.state.index === 0){\n            return\n        } else {\n            this.setState({index: this.state.index - 1})\n        }\n    }\n\n    clickRight = e => {\n        if (this.state.index === 9){\n            return\n        } else {\n            this.setState({index: this.state.index + 1})\n        }\n    }\n\n    render(){\n        return (\n            <>\n            <Navbar bg=\"dark\" variant=\"dark\">\n                <Navbar.Brand href=\"#home\">\n                <img\n                    alt=\"\"\n                    src=\"/logo.svg\"\n                    width=\"30\"\n                    height=\"30\"\n                    className=\"d-inline-block align-top\"\n                />\n                {\"RADARSAT Challenge\"}\n                </Navbar.Brand>\n            </Navbar>\n            <Button onClick={this.showPicture}>Show Pictures!</Button>\n            <Link to='/'>Go back</Link>\n                <Card style={{ width: '100%' }}>\n                    <Row>\n                        <Col lg={2}>\n                            <Image src={left} onClick={this.clickLeft} />\n                        </Col>\n                        <Col lg={8} >\n                            <Card.Img \n                                className=\"imageSize\"\n                                variant=\"top\" \n                                src={this.state.imageURL[this.state.index]} \n                            />\n                            <Card.Body className=\"summary\">\n                                <Card.Title>Picture Summary</Card.Title>\n                                <Card.Text>\n                                Title: {this.state.title[this.state.index]}\n                                </Card.Text>\n                                <Card.Text>\n                                {this.state.summary[this.state.index]}\n                                </Card.Text>\n                                <Card.Text>\n                                Beam Mode: {this.state.productorientation[this.state.index] \n                                    ? this.state.productorientation[this.state.index] : \"N/A\"}\n                                </Card.Text>\n                                <Button variant=\"warning\" >\n                                    <a href={this.state.imageDownload[this.state.index]} download>\n                                       Download HD Image\n                                    </a>\n                                </Button>\n                            </Card.Body>\n                        </Col>\n                        <Col lg={2} >\n                            <Image  src={right} onClick={this.clickRight} />\n                        </Col>\n                    </Row>\n                        \n                    \n                </Card>\n            </>\n        )\n    }\n    \n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}